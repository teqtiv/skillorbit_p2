<!-- <div class="registration-card">
    <mat-card>
    <mat-card-title>Registration</mat-card-title>    
        <mat-card-content>  
            <form [formGroup]="form" (ngSubmit)="register()">                
                <div *ngIf='disable === false'>
                    <button mat-raised-button class="registration-button" [disabled]="!form.valid || !avialableEmail">
                        Register
                    </button>
                    <div>
                        <br>
                    </div>
                </div>
                <mat-progress-spinner [style.visibility]="disable == true? 'visible': 'collapse'" style="margin-left: auto;margin-right: auto;"   
                    [diameter]="40" color="warn" mode="indeterminate"></mat-progress-spinner>
            </form>
        </mat-card-content>
    </mat-card>
</div> -->

<div class="container-fluid">
    <div class="reg-card">
        <div class="logo-box">
            <embed src="assets/img/svg/logo.svg" >
        </div>
        <!-- For Registration page -->
        <div id="Registrationpage" [style.display]="Registrationpage">
            <form [formGroup]="form" (ngSubmit)="register()" >
                <div class="auth-card-fields pal">
                    <div class="row">
                            <div class="col-md-6">
                                    <mat-form-field flex class="registration-form-full-width"> 
                                        <input matInput placeholder="Email" type="email" maxlength="50" [(ngModel)]='user.email' 
                                        (focusout)="verifyEmail()" formControlName="email"/>
                                        <mat-error *ngIf="form.get('email').invalid && (form.get('email').dirty || form.get('email').touched)">
                                            <span *ngIf="form.get('email').hasError('notavailable')">
                                                Email already taken
                                            </span>
                                            <span *ngIf="form.get('email').hasError('required') || 
                                                         form.get('email').hasError('email') || form.get('email').hasError('pattern')">
                                                Please enter a valid email address
                                            </span>
                                          
                                        </mat-error>
                                    </mat-form-field>
                                </div>
                                <div class="col-md-6">
                                    <mat-form-field flex class="registration-form-full-width"> 
                                        <span matPrefix>+1 &nbsp;</span>
                                        <input matInput placeholder="Mobile Number" [textMask]="{mask: mask}" type="tel" [(ngModel)]='user.mobileNumber' formControlName="mobileNumber"/>
                                        <mat-error *ngIf="form.get('mobileNumber').hasError('required') && (form.get('mobileNumber').dirty || form.get('mobileNumber').touched)">
                                            Mobile number is required.
                                        </mat-error>  
                                        <mat-error *ngIf="form.get('mobileNumber').hasError('pattern') && (form.get('mobileNumber').dirty || form.get('mobileNumber').touched)">
                                            Mobile number is not valid.
                                        </mat-error> 
                                        
                                    </mat-form-field>
                                </div>
                                <div class="col-md-6">
                                        <mat-form-field flex class="registration-form-full-width"> 
                                            <input matInput placeholder="Last Name" type="text" maxlength="50" [(ngModel)]='user.lastName' formControlName="lastName" />
                                            <mat-error *ngIf="form.get('lastName').invalid && (form.get('lastName').dirty || form.get('lastName').touched)">
                                               <span *ngIf="form.get('lastName').hasError('required')">
                                                Last name is required.
                                               </span>
                                               <span *ngIf="form.get('lastName').hasError('pattern')">
                                                Only alphabets are allowed.
                                               </span>
                                               <span *ngIf="form.get('lastName').hasError('whitespace') && !form.get('lastName').hasError('required')">
                                                 Remove all extra spaces
                                               </span>
                                            </mat-error> 
                                           
                                          
                                        </mat-form-field>
                                    </div>
                                    <div class="col-md-6">
                                        <mat-form-field flex class="registration-form-full-width"> 
                                            <input matInput placeholder="First Name" type="text" maxlength="50" [(ngModel)]='user.firstName' formControlName="firstName"/>
                                            <mat-error *ngIf="form.get('firstName').invalid && (form.get('firstName').dirty || form.get('firstName').touched)">
                                                
                                                <span *ngIf="form.get('firstName').hasError('required')">
                                                    First name is required.
                                                </span>
                                                <span *ngIf="form.get('firstName').hasError('pattern')">
                                                     Only alphabets are allowed.
                                                </span>
                                                <span *ngIf="form.get('firstName').hasError('whitespace') && !form.get('firstName').hasError('required')">
                                                        Remove all extra spaces
                                                      </span>
                                            </mat-error>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-md-6">
                                        <mat-form-field flex class="registration-form-full-width">   
                                            <mat-select [(ngModel)]='user.credentials' placeholder="Credentials" 
                                                formControlName="credentials" >
                                                <mat-option  *ngFor="let credential of credentials" [value]="credential.value "> 
                                                    {{ credential.value }}
                                                </mat-option>
                                            </mat-select>
                                            <mat-error *ngIf="form.get('credentials').hasError('required') 
                                                        && (form.get('credentials').dirty || form.get('credentials').touched)">
                                                        Credentials is required.
                                            </mat-error>
                                        </mat-form-field>

                                            <!-- <mat-form-field flex class="registration-form-full-width" > 
                                                <input matInput type="text" placeholder="Credentials" [(ngModel)]='user.credentials' 
                                                    formControlName="credentials" />
                                                <mat-error *ngIf="form.get('credentials').invalid && (form.get('credentials').dirty || form.get('credentials').touched)">
                                                    Credentials is required.
                                                </mat-error> 
                                            </mat-form-field> -->

                                     </div>
                        <div class="col-md-6">
                                <mat-form-field flex class="registration-form-full-width">   
                                        <mat-select [(ngModel)]='user.title' placeholder="Title" 
                                            formControlName="title" >
                                            <mat-option  *ngFor="let title of titles" [value]="title.value "> 
                                                {{ title.value }}
                                            </mat-option>
                                        </mat-select>
                                        <mat-error *ngIf="form.get('title').hasError('required') 
                                                    && (form.get('title').dirty || form.get('title').touched)">
                                                    Title name is required.
                                        </mat-error>
                                    </mat-form-field>
                            <!-- <mat-form-field flex class="registration-form-full-width" > 
                                <input matInput type="text" placeholder="Title" [(ngModel)]='user.title' formControlName="title" />
                                <mat-error *ngIf="form.get('title').invalid && (form.get('title').dirty || form.get('title').touched)">
                                    Title name is required.
                                </mat-error>
                            </mat-form-field> -->
                        </div>
                    
                        
                        <div class="col-md-6">
                            <mat-form-field flex class="registration-form-full-width"> 
                                <input matInput placeholder="Password" type="password" [(ngModel)]='user.password' 
                                       formControlName="password" maxlength="20" />
                                <span matSuffix>
                                    <ng2-password-strength-bar
                                        [passwordToCheck]="user.password"
                                       >
                                    </ng2-password-strength-bar>
                                </span>
                                <mat-error *ngIf="form.get('password').hasError('required') && (form.get('password').dirty || form.get('password').touched)">
                                    Password is required.
                                </mat-error> 
                                <mat-error *ngIf="form.get('password').hasError('pattern') && (form.get('password').dirty || form.get('password').touched)">
                                        Password should be between 8-20 characters with 1 Uppercase letter and 1 number.
                                </mat-error>
                                <!-- <mat-error *ngIf="form.get('password').hasError('maxlength') && (form.get('password').dirty || form.get('password').touched)">
                                    Password should be less than 20 characters.
                                </mat-error>  -->
                            </mat-form-field>
                        </div>
                        <div class="col-md-6">
                            <mat-form-field flex class="registration-form-full-width"> 
                                <input matInput placeholder="Confirm Password" type="password" [(ngModel)]='user.confirmPassword' formControlName="confirmPassword" />       
                                <span  *ngIf="form.hasError('nomatch') && (form.get('confirmPassword').dirty && form.get('confirmPassword').touched)"
                                        matSuffix style='color:red;font-size:8pt'>Not Matched</span>
                                <mat-error *ngIf="form.get('confirmPassword').hasError('required') && (form.get('confirmPassword').dirty || form.get('confirmPassword').touched)">
                                    Confirm password is required.
                                </mat-error>    
                            </mat-form-field>
                        </div>
                    </div>
                </div>
                <div class="auth-card-btn-box text-center">
                    <div class="text-center">
                          <button type="submit" [style.cursor]="!form.valid ? 'not-allowed' : 'pointer' " [disabled]="!form.valid || !avialableEmail" class="btn-vm-auth" >Sign up</button>
                    </div>
                    <div>
                    <br>
                        Have an account? <a href="#" (click)="signinroute()">Sign in</a>
                    </div>
                </div>
            </form>
        </div>
         <!-- For Loading page -->
         <div id="Loadingpage" [style.display]="Loadingpage">
                <div class="text-center">
                    <div class="ptl pbm">
                        <span class="vm-loader"></span>
                    </div>
                    <div class="pts loading-txt">Please Wait...</div>
                </div>
            </div>
            <!-- -->
    </div>
</div>



