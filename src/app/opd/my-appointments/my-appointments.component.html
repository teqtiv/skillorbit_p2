<div class="button-row row" style="margin-top: 12px;margin-bottom: 12px;">
    <div class="col-xl-2 col-lg-2 col-md-2 col-sm-12">
        <mat-form-field class="full-width">
            <input
                matInput
                [matDatepicker]="picker"
                placeholder="Choose start date"
                [(ngModel)]="startDate"
                (ngModelChange)="onStartDateFocusOut()"
                (click)="picker.open()"
                readonly
            />
            <mat-datepicker-toggle
                matSuffix
                [for]="picker"
            ></mat-datepicker-toggle>
            <mat-datepicker #picker></mat-datepicker>
        </mat-form-field>
    </div>

    <!-- End Date -->
    <div class="col-xl-2 col-lg-2 col-md-2 col-sm-12">
        <mat-form-field class="full-width">
            <input
                matInput
                [min]="startDate"
                [matDatepicker]="picker1"
                placeholder="Choose end date"
                [(ngModel)]="endDate"
                (ngModelChange)="onEndDateFocusOut()"
                (click)="picker1.open()"
                readonly
            />
            <mat-datepicker-toggle
                matSuffix
                [for]="picker1"
            ></mat-datepicker-toggle>
            <mat-datepicker #picker1></mat-datepicker>
        </mat-form-field>
    </div>
    <div class="col-xl-4 col-lg-4 col-md-4 col-sm-12">
        <mat-form-field class="full-width">
            <input
                matInput
                [(ngModel)]="patientLastName"
                type="text"
                placeholder="Patient Last Name"
                (ngModelChange)="filter()"
            />
        </mat-form-field>
    </div>
    <div class="col-xl-4 col-lg-4 col-md-4 col-sm-12">
        <mat-form-field class="full-width">
            <input
                matInput
                [(ngModel)]="patientFirstName"
                type="text"
                placeholder="Patient First Name"
                (ngModelChange)="filter()"
            />
        </mat-form-field>
    </div>
</div>
<div id="container">
    <table class="table">
        <tr class="table-custom-border">
            <th>MRN #</th>
            <th>Time</th>
            <th>Date</th>
            <th>Patient</th>
            <th>Visit Type</th>
            <th>Status</th>
        </tr>
        <tr>
            <td [style.display]="zeroResults" colspan="6">
                <h6 class="nodata">There are no appointments</h6>
            </td>
        </tr>
        <tr>
            <td colspan="6" [style.display]="visibilityLoginSpinner">
                <div id="Loadingpage">
                    <div class="text-center">
                        <div class="ptl pbm">
                            <span class="vm-loader"></span>
                        </div>
                    </div>
                </div>
            </td>
        </tr>
        <tr
            *ngFor="let appointment of appointments"
            [style.display]="visibilityLoginSpinnerdata"
        >
            <td>{{ appointment.mrn }}</td>
            <td>
                {{
                    (appointment.startDate | date: 'shortTime') +
                        ' - ' +
                        (appointment.endDate | date: 'shortTime')
                }}
            </td>
            <td>{{ appointment.startDate | date: 'mediumDate' }}</td>
            <td>
                {{
                    appointment.patientLastName +
                        ' ' +
                        appointment.patientFirstName
                }}
            </td>
            <td>
                {{ appointment.type }}
            </td>
            <td>{{ appointment.currentStateName }}</td>
        </tr>
    </table>

    <div
        [style.display]="paginationdisplay"
        style="float:left; color:lightgrey; margin-left: 12px; margin-top: 10px; font-size: 0.9em"
    >
        Page {{ currentpage }} |
        {{
            currentpage * 8 > appointments.length
                ? appointments.length
                : currentpage * 8
        }}
        of {{ appointments.length }} | Session History
    </div>

    <nav
        [style.display]="paginationdisplaybtn"
        aria-label="Page navigation example"
        style="float:right;"
    >
        <ul class="pagination">
            <li class="page-item">
                <a
                    class="page-link noselect"
                    aria-label="Previous"
                    (click)="pagNum('P')"
                >
                    <span aria-hidden="true">&laquo;</span>
                    <span class="sr-only">Previous</span>
                </a>
            </li>

            <li
                *ngFor="let item of PageLengthrange; let rowIndex = index"
                class="{{
                    currentpage == PageLengthrange[rowIndex]
                        ? 'page-item active'
                        : 'page-item'
                }}"
            >
                <a
                    class="page-link noselect"
                    [style.display]="
                        PageLengthrange[rowIndex] >
                            currentpage -
                                (currentpage == PageLengthrange.length
                                    ? 5
                                    : currentpage == PageLengthrange.length - 1
                                    ? 4
                                    : 3) &&
                        PageLengthrange[rowIndex] <
                            currentpage +
                                (currentpage == 1
                                    ? 5
                                    : currentpage == 2
                                    ? 4
                                    : 3)
                            ? 'block'
                            : 'none'
                    "
                    (click)="pagNum(PageLengthrange[rowIndex])"
                    >{{ PageLengthrange[rowIndex] }}</a
                >
            </li>

            <li class="page-item">
                <a
                    class="page-link noselect"
                    aria-label="Next"
                    (click)="pagNum('N')"
                >
                    <span aria-hidden="true">&raquo;</span>
                    <span class="sr-only ">Next</span>
                </a>
            </li>
        </ul>
    </nav>
</div>
